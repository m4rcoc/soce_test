#!/bin/bash

function test_rstp_1_1(){
cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 discarding
stp set_port_state $port_1_config 0 discarding
stp set_port_state $port_2_config 0 discarding
stp set_port_state $port_3_config 0 discarding
EOF
}

function test_rstp_2_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 learning
stp set_port_state $port_1_config 0 learning
stp set_port_state $port_2_config 0 learning
stp set_port_state $port_3_config 0 learning
EOF
}

function test_rstp_3_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 forwarding
stp set_port_state $port_1_config 0 forwarding
stp set_port_state $port_2_config 0 forwarding
stp set_port_state $port_3_config 0 forwarding
EOF
}

function test_rstp_4_1(){

: '
CIST Priority = RSTP bridge priority
stp set_bridge_msti_param br0 0 priority 8
0-15
8=32768
15=61440
'

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp restart
EOF
}

function test_rstp_5_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp restart
EOF
}


function test_rstp_6_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp restart
EOF
}


function test_rstp_7_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers stp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp restart
EOF
}

function test_rstp_7_2(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers stp
stp restart
EOF
}

function test_rstp_8_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_9_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_10_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_11_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_11_2(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_11_3(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_12_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_12_2(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_12_3(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_12_4(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}


function test_rstp_13_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_14_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_15_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_16_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_17_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_18_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_19_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}

function test_rstp_21_1(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_3_config 0 8 200000
stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000
stp set_bridge_port_param br0 $port_3_config external_path_cost 200000
stp restart
EOF
}



function test_rstp_1_1_tsnpcie(){
cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 discarding
stp set_port_state $port_1_config 0 discarding

EOF
}

function test_rstp_2_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 learning
stp set_port_state $port_1_config 0 learning

EOF
}

function test_rstp_3_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
statistics reset_all_statistics SWITCH
mac_address_table delete_all_dynamic_entries SWITCH
mac_address_table disable_ageing SWITCH 
stp set_port_state $port_0_config 0 forwarding
stp set_port_state $port_1_config 0 forwarding

EOF
}

function test_rstp_4_1_tsnpcie(){

: '
CIST Priority = RSTP bridge priority
stp set_bridge_msti_param br0 0 priority 8
0-15
8=32768
15=61440
'

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp restart
EOF
}

function test_rstp_5_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp restart
EOF
}


function test_rstp_6_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp restart
EOF
}


function test_rstp_7_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers stp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp restart
EOF
}

function test_rstp_7_2_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers stp
stp restart
EOF
}

function test_rstp_8_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_9_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_10_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_11_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_11_2_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_11_3_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_12_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_12_2_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_12_3_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_12_4_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}


function test_rstp_13_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_14_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_15_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_16_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_17_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_18_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_19_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

function test_rstp_21_1_tsnpcie(){

cat <<-EOF > cmds/${test_function}_dut_config.cmd
soce_cli
stp set_bridge_param br0 bridge_vers rstp
stp set_bridge_msti_param br0 0 priority 8
stp set_bridge_param br0 bridge_hello_time 2
stp set_bridge_param br0 bridge_max_age 20
stp set_bridge_param br0 bridge_forward_delay 15
stp set_bridge_param br0 bridge_max_hops 20
stp set_bridge_port_msti_config br0 $port_0_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_1_config 0 8 200000
stp set_bridge_port_msti_config br0 $port_2_config 0 8 200000

stp set_bridge_port_param br0 $port_0_config external_path_cost 200000
stp set_bridge_port_param br0 $port_1_config external_path_cost 200000
stp set_bridge_port_param br0 $port_2_config external_path_cost 200000

stp restart
EOF
}

